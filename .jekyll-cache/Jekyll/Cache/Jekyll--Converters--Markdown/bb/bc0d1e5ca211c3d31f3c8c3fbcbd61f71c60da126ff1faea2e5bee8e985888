I"„<h1 id="å¼•è¨€">å¼•è¨€</h1>

<p>ç ”å‘éœ€è¦æŸä¸ª MySQL è¡¨ï¼Œéœ€è¦è¿ç»´è¿™è¾¹å¯¼å‡ºæ¥æä¾›ç»™ä»–ä»¬ã€‚</p>

<h1 id="é—®é¢˜">é—®é¢˜</h1>

<p>ä¸€èˆ¬ä½¿ç”¨ mysqldump å‘½ä»¤å³å¯ï¼Œä½†ä»ç”Ÿäº§ç¯å¢ƒç›´æ¥å¯¼å‡ºè¡¨æœ‰æŠ¥é”™ï¼Œå¦‚ä¸‹ï¼š</p>
<blockquote>

  <p>mysqldump: Got error: 1044: Access denied for user â€˜xxxâ€™@â€™xxxâ€™ to database â€˜xxxâ€™ when using LOCK TABLES</p>
</blockquote>

<h1 id="åˆ†æ">åˆ†æ</h1>

<p>ä»ä»¥ä¸‹æŠ¥é”™å¯ä»¥åˆ¤æ–­ mysqldump ä½¿ç”¨çš„ç”¨æˆ·æ²¡é”è¡¨æƒé™ã€‚<br />
ç™»å½•åˆ° mysql ä¸‹å¯ä»¥ç¡®è®¤ã€‚</p>

<pre>
*************************** 8. row ***************************
                  Host: 127.0.0.1
                  User: xxx
              Password: *xxx
           Select_priv: Y
           Insert_priv: Y
           Update_priv: Y
           Delete_priv: Y
           Create_priv: Y
             Drop_priv: Y
           Reload_priv: Y
         Shutdown_priv: N
          Process_priv: N
             File_priv: N
            Grant_priv: Y
       References_priv: N
            Index_priv: Y
            Alter_priv: Y
          Show_db_priv: N
            Super_priv: Y
 Create_tmp_table_priv: N
      Lock_tables_priv: N
          Execute_priv: Y
       Repl_slave_priv: N
      Repl_client_priv: N
      Create_view_priv: Y
        Show_view_priv: Y
   Create_routine_priv: Y
    Alter_routine_priv: Y
      Create_user_priv: Y
            Event_priv: N
          Trigger_priv: Y
Create_tablespace_priv: N
              ssl_type: 
14 rows in set (0.00 sec)
</pre>

<h1 id="è§£å†³æ–¹æ³•">è§£å†³æ–¹æ³•</h1>

<p>æˆäºˆç”¨æˆ·é”è¡¨æƒé™å³å¯ã€‚</p>

<p>ç½‘ä¸Šæœ‰äººè¯´ä½¿ç”¨ â€“skip-lock-tablesï¼Œè¿™ä¸ªä¼šå½±å“æ•°æ®çš„ä¸€è‡´æ€§(å¯èƒ½æ¯”ä¸¢æ•°æ®è¿˜è¦é­ç³•)ï¼Œæ•…ä¸æ¨èä½¿ç”¨è¿™ä¸ªæ–¹æ³•ã€‚
â€“single-transaction ç”¨äº Innodb å¼•æ“çš„æ•°æ®åº“ dump æ—¶ï¼Œå¯ä»¥ä¸é”è¡¨ã€‚</p>

<p>mysql é”è¡¨åŸç†æ·±å…¥ä¸‹å»è¿˜æœ‰å¾ˆå¤šç»†èŠ‚å¯ä»¥å­¦ä¹ ï¼Œå¯ä»¥å‚è€ƒ Ref ç›¸å…³èµ„æ–™ã€‚</p>

<h1 id="ref">Ref</h1>
<p><a href="http://mysqldba.blog.51cto.com/6728219/1329206">mysqldumpå¤‡ä»½æ•°æ®åº“æ—¶å‡ºç°when using LOCK TABLESçš„æç¤º</a><br />
<a href="http://www.freeoa.net/osuport/db/mysqldump-lock-on-backup_1453.html">å¯¹mysqldumpåœ¨å¤‡ä»½æ•°æ®åº“æ—¶é”è¡¨çš„è®¤è¯†</a><br />
<a href="http://stackoverflow.com/questions/104612/run-mysqldump-without-locking-tables">mysql - Run MySQLDump without Locking Tables - Stack Overflow</a><br />
<a href="http://dev.mysql.com/doc/refman/5.7/en/mysqldump.html#option_mysqldump_single-transaction">mysqldump â€” A Database Backup Program</a><br />
<a href="https://www.percona.com/blog/2012/03/23/best-kept-mysqldump-secret/">Best kept MySQLDump Secret - MySQL Performance Blog</a><br />
<a href="http://www.penglixun.com/tech/database/the_process_of_mysqldump.html">mysqldumpçš„æµç¨‹ | P.Linux Laboratory</a><br />
<a href="http://www.111cn.net/database/mysql/55482.htm">mysqlä¸­lock tablesä¸unlock tables(é”è¡¨/è§£é”)ä½¿ç”¨æ€»ç»“</a></p>

:ET