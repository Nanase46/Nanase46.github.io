I"À<p>Logstash æ”¶é›†ç³»ç»Ÿæ—¥å¿—</p>

<h1 id="logstash-äº‹ä»¶åŠ-pipeline-ç®€ä»‹">Logstash äº‹ä»¶åŠ Pipeline ç®€ä»‹</h1>

<ol>
  <li>Logstash æ”¶é›†æ•°æ®æ˜¯æŒ‰ç…§äº‹ä»¶ï¼Œäº‹ä»¶ä¸åªæ˜¯ä¸€è¡Œï¼Œå¯ä»¥åŒ…å«å¤šè¡Œ</li>
  <li>input output æ˜¯ Logstash Pipeline ä¸­å¿…é¡»å­˜åœ¨çš„</li>
  <li>Pipeline æµç¨‹ï¼š event -&gt; input -&gt; codec -&gt; filter -&gt; codec -&gt; output</li>
</ol>

<h1 id="logstash-æ”¶é›†ç³»ç»Ÿæ—¥å¿—">Logstash æ”¶é›†ç³»ç»Ÿæ—¥å¿—</h1>

<p>ç³»ç»Ÿæ—¥å¿—ä¸€èˆ¬å­˜æ”¾åœ¨å¯¹åº”çš„æ–‡ä»¶ä¸­ï¼Œå¦‚ /var/log/messages ç­‰ï¼Œ<br />
æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Logstash input æ’ä»¶ä¸­çš„ file æ’ä»¶æ¥æ”¶é›†æ–‡ä»¶ä¸­çš„æ•°æ®ã€‚</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="o">[</span>root@linux-node1 /etc/logstash/conf.d]# <span class="nb">cat </span>file.conf 
input <span class="o">{</span>
    file <span class="o">{</span>
        path <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">"/var/log/messages"</span>,<span class="s2">"/var/log/secure"</span><span class="o">]</span>
        <span class="nb">type</span> <span class="o">=&gt;</span> <span class="s2">"system-log"</span>
        start_position <span class="o">=&gt;</span> <span class="s2">"beginning"</span>
    <span class="o">}</span>
<span class="o">}</span>

filter <span class="o">{</span>
<span class="o">}</span>

output <span class="o">{</span>
    elasticsearch <span class="o">{</span>
        hosts <span class="o">=&gt;</span> <span class="o">[</span><span class="s2">"192.168.56.11:9200"</span><span class="o">]</span>
        index <span class="o">=&gt;</span> <span class="s2">"system-log-%{+YYYY.MM}"</span>
    <span class="o">}</span>
<span class="o">}</span>

</code></pre></div></div>

<p>ä¸Šé¢çš„é…ç½®æ–‡ä»¶æ¼”ç¤ºå®ç°äº†æ”¶é›†ç³»ç»Ÿæ—¥å¿—æ–‡ä»¶ä¸­çš„æ•°æ®ï¼Œç„¶åå†™å…¥åˆ° ES ä¸­ã€‚</p>

<blockquote>

  <p>ç³»ç»Ÿæ—¥å¿—ä¸€èˆ¬æ¯”è¾ƒå°ï¼Œå¯ä»¥æ¯æœˆä¸€ä¸ªç´¢å¼•ã€‚
æµ‹è¯•æ—¶åœ¨å‰å°æŒ‡å®š file.conf è°ƒè¯•è¿è¡Œ logstashï¼Œç„¶ååœ¨ ES head æ’ä»¶ä¸­ç¡®è®¤ç´¢å¼•åŠæ•°æ®æ˜¯å¦å†™å…¥ã€‚</p>
</blockquote>

<h1 id="ref">Ref</h1>
<p><a href="https://www.elastic.co/guide/en/logstash/current/plugins-inputs-file.html"> Input plugins Â» file</a></p>

:ET