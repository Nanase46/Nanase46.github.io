I"è<h1 id="å¼•è¨€">å¼•è¨€</h1>

<p>ä½¿ç”¨<code class="highlighter-rouge">netstat -lntp</code>æŸ¥çœ‹ä¸šåŠ¡è¿›ç¨‹ï¼Œå‘ç°æ˜¾ç¤ºç¨‹åºåç§°æ˜¾ç¤ºä¸å®Œæ•´ã€‚
å¦‚ä¸‹ï¼š</p>

<pre>

tcp        0      0 0.0.0.0:20811               0.0.0.0:*                   LISTEN      15459/./gate_s9990  
tcp        0      0 0.0.0.0:843                 0.0.0.0:*                   LISTEN      15431/./flash_s9990 
tcp        0      0 0.0.0.0:20812               0.0.0.0:*                   LISTEN      15481/./gate_s9990  
tcp        0      0 127.0.0.1:20821             0.0.0.0:*                   LISTEN      15438/./game_s9990  
tcp        0      0 127.0.0.1:20822             0.0.0.0:*                   LISTEN      15442/./game_s9990  
tcp        0      0 127.0.0.1:20823             0.0.0.0:*                   LISTEN      15446/./game_s9990  
tcp        0      0 127.0.0.1:20824             0.0.0.0:*                   LISTEN      15450/./game_s9990  
tcp        0      0 10.2.80.224:20832           0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 10.2.80.224:20833           0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 127.0.0.1:20801             0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 0.0.0.0:20802               0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 127.0.0.1:20803             0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 127.0.0.1:20804             0.0.0.0:*                   LISTEN      15434/./center_s999 
tcp        0      0 127.0.0.1:20805             0.0.0.0:*                   LISTEN      15434/./center_s999 

</pre>

<p>ä¸Šé¢å¯ä»¥çœ‹åˆ° center_s999 åº”è¯¥æ˜¯ center_s9990ï¼Œä½†æ²¡æ˜¾ç¤ºå‡ºæ¥ï¼Œäºæ˜¯æˆ‘å°±æƒ³ä¸ºä»€ä¹ˆä¸èƒ½æ˜¾ç¤ºå‡ºæ¥ï¼Ÿ<br />
è§‚å¯Ÿäº†å‡ ä¸ªå®ä¾‹ï¼Œæ¨æ–­ PID/Porgram Name å®½åº¦é™åˆ¶åœ¨ 19 ä½ã€‚<br />
äºæ˜¯æˆ‘æƒ³ netstat æ²¡æœ‰é€‰é¡¹æ§åˆ¶æ˜¾ç¤ºå®Œæ•´ Program Name å—ï¼Ÿ é€šè¿‡<code class="highlighter-rouge">man netstat</code>å¹¶æ²¡æœ‰å‘ç°æœ‰ç›¸å…³é€‰é¡¹ã€‚</p>

<h1 id="netstat-wide-é€‰é¡¹">netstat â€“wide é€‰é¡¹</h1>

<p>ç»§ç»­æœç´¢ï¼Œå‘ç° netstat çš„æ–°ç‰ˆæœ¬æœ‰ â€“wide é€‰é¡¹ï¼Œæœ‰äººè¯´äº†å¦‚ä¸‹å†…å®¹ï¼ˆâ€“wide é€‰é¡¹è§£é‡Šèµ·æ¥ä¸å¤ªæ­£ç¡®ï¼‰ï¼š</p>

<pre>

netstat as shipped with modern OSes (including Ubuntu) has a -W (--wide) switch 
that disables column width restrictions. 
This is definitely present since net-toolsâ€¯1.60-23, documented in netstat(8), 
and listed in Changelog as an addition to 1.60-22.

</pre>

<p>åœ¨ CentOS 7 ä¸‹æ–°ç‰ˆæœ¬ netstat çš„ â€“wide é€‰é¡¹å¹¶ä¸æ˜¯åƒä¸Šé¢è¯´çš„å–æ¶ˆå®½åº¦é™åˆ¶ã€‚</p>

<p>é€šè¿‡<code class="highlighter-rouge">man netstat</code>ï¼Œ-W é€‰é¡¹åŠŸèƒ½å¦‚ä¸‹ï¼š</p>

<pre>

   --wide , -W
       Do not truncate IP addresses by using output as wide as needed. This is
       optional for now to not break existing scripts.

</pre>

<p>æˆ‘åœ¨ CentOS 7 ä¸Šä½¿ç”¨æ–°ç‰ˆæœ¬çš„ netstat éªŒè¯äº†ä¸‹ï¼Œç»“æœå¦‚ä¸‹ï¼š</p>

<pre>

[root@centos-512mb-sgp1-01 ~]# netstat -lntp -W
Active Internet connections (only servers)
Proto Recv-Q Send-Q Local Address           Foreign Address         State       PID/Program name    
tcp        0      0 0.0.0.0:22              0.0.0.0:*               LISTEN      695/sshd            
tcp        0      0 127.0.0.1:25            0.0.0.0:*               LISTEN      915/master          
tcp        0      0 0.0.0.0:19999           0.0.0.0:*               LISTEN      1974/very-loooooooo 
tcp6       0      0 :::22                   :::*                    LISTEN      695/sshd            
tcp6       0      0 ::1:25                  :::*                    LISTEN      915/master          
tcp6       0      0 :::19999                :::*                    LISTEN      1974/very-loooooooo 

</pre>

<p>ä¸Šé¢â€œ1974/very-looooooooâ€æ˜¯ä¸€ä¸ªæµ‹è¯•ç›‘å¬è¿›ç¨‹ï¼Œå¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨äº† -W é€‰é¡¹ï¼ŒProgram name è¿˜æ˜¯æ˜¾ç¤ºä¸å…¨çš„ï¼Œè€Œä¸” PID/Program name é•¿åº¦æ˜¯ 19 ä½ã€‚</p>

<h1 id="æ€»ç»“">æ€»ç»“</h1>

<p>netstat è¾“å‡ºçš„ Program name åœ¨é‡åˆ°è¾ƒé•¿è¿›ç¨‹ç¨‹åºåæ—¶ï¼Œä¼šæˆªå–ï¼ŒPID/Program name é•¿åº¦æ˜¯19ä½ã€‚<br />
ä¸çŸ¥é“è¿™ç®—ä¸ç®—ä¸€ä¸ª bug?</p>

<h1 id="ref">Ref</h1>
<p><a href="http://unix.stackexchange.com/questions/212096/netstat-output-line-width-limit">Netstat output line width limit</a><br />
<a href="https://en.wikipedia.org/wiki/Netstat">Wiki-netstat</a><br />
<a href="https://github.com/ecki/net-tools">ecki/net-tools</a><br />
<a href="http://sourceforge.net/p/net-tools/bugs/10/">PID/program output wrong</a></p>
:ET