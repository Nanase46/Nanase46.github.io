I"‚<h1 id="å¼•è¨€">å¼•è¨€</h1>

<p>ä¸€ç›´ç”¨ dmesgï¼Œä½†åœ¨æœåŠ¡å™¨ä¸ŠæŸ¥çœ‹æ—¶ï¼Œæ—¶é—´æˆ³ä¸æ˜“è¯»ã€‚<br />
æ‰€ä»¥æŸ¥ä¸‹ç”¨ä»€ä¹ˆæ–¹æ³•è®©å…¶å˜æˆ human readable.</p>

<h1 id="dmesg-ç®€ä»‹">dmesg ç®€ä»‹</h1>

<pre>

dmesg - print or control the kernel ring buffer
dmesg is used to examine or control the kernel ring buffer.

The default action is to read all messages from kernel ring buffer.

</pre>

<p>ç»ˆç«¯è¾“å…¥ dmesgï¼Œå¯ä»¥çœ‹åˆ°æ¯è¡Œæœ€å¼€å§‹æ˜¾ç¤ºçš„æ˜¯ä¸€ä¸ªä¸­æ‹¬å·ï¼Œé‡Œé¢çš„æ•°å­—ä¸º timestampï¼Œæ—¶é—´æˆ³ï¼Œ
è¯¥æ—¶é—´æŒ‡ç¤ºçš„ç³»ç»Ÿä»å¼€æœºåˆ°ç°åœ¨çš„è¿è¡Œæ—¶é—´ï¼Œå•ä½ä¸ºç§’ã€‚</p>

<h1 id="dmesg-æ—¶é—´æˆ³è½¬æ¢">dmesg æ—¶é—´æˆ³è½¬æ¢</h1>

<h2 id="1dmesg--t-å‚æ•°">1.dmesg -T å‚æ•°</h2>

<pre>

-T, --ctime
       Print human readable timestamps.  The timestamp could be inaccurate!
       The time source used for the logs is not updated after system SUSPEND/RESUME.

</pre>

<p>è¿™ä¸ªå‚æ•°åœ¨è¾ƒè€ç‰ˆæœ¬çš„ util-linux ä¸­å¹¶æ²¡æœ‰ï¼Œè¿˜è¦æ³¨æ„è¿™ä¸ªæ—¶é—´å¯èƒ½ä¸å‡†ç¡®ã€‚</p>

<h2 id="2-ä½¿ç”¨å‘½ä»¤æˆ–å…¶ä»–å·¥å…·è½¬æ¢">2. ä½¿ç”¨å‘½ä»¤æˆ–å…¶ä»–å·¥å…·è½¬æ¢</h2>

<p>ä½¿ç”¨ bash å‘½ä»¤è½¬æ¢ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">date</span> <span class="nt">-d</span> <span class="s2">"1970-01-01 UTC </span><span class="sb">`</span><span class="nb">echo</span> <span class="s2">"</span><span class="si">$(</span><span class="nb">date</span> +%s<span class="si">)</span><span class="s2">-</span><span class="si">$(</span><span class="nb">cat</span> /proc/uptime|cut <span class="nt">-f</span> 1 <span class="nt">-d</span><span class="s1">' '</span><span class="si">)</span><span class="s2">+[dmesgæ˜¾ç¤ºçš„æ—¶é—´]"</span>|bc <span class="sb">`</span><span class="s2"> seconds"</span>
</code></pre></div></div>

<p>å½“ç„¶è¿˜æœ‰å…¶ä»–å·¥å…·ï¼Œæ¯”å¦‚è¿™ä¸ªä¸Š Python å†™çš„<a href="https://gist.github.com/saghul/542780">pydmesg</a></p>

<h2 id="3-é…ç½®-rsyslogå°†-kernel-æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶">3. é…ç½® rsyslog,å°† kernel æ—¥å¿—è¾“å‡ºåˆ°æ–‡ä»¶</h2>

<p>ä¿®æ”¹<code class="highlighter-rouge">/etc/[r]syslog.conf</code>ï¼Œæ·»åŠ å¦‚ä¸‹é…ç½®ï¼š</p>

<pre>

kern.* Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â /var/log/kern.log

</pre>

<p>åç»­å¯ä»¥åœ¨<code class="highlighter-rouge">/var/log/kern.log</code>ä¸­æŸ¥çœ‹ kernel æ—¥å¿—ä¿¡æ¯ã€‚</p>

<h1 id="ref">Ref</h1>
<p><a href="http://blog.chinaunix.net/uid-29054214-id-5114125.html">Linux dmesg è¾“å‡ºæ²¡æœ‰æ—¶é—´åˆ—</a><br />
<a href="http://blog.csdn.net/buptapple/article/details/8568938">Linux æ—¶é—´æˆ³è½¬æ¢/dmesg æ—¶é—´è½¬æ¢</a> 
<a href="http://blog.tankywoo.com/2015/02/03/about-timestamp-in-dmesg.html">å…³äº dmesg çš„ timestamp</a><br />
<a href="https://linux.cn/article-3587-1.html">Linux ç³»ç»Ÿä¸­â€˜dmesgâ€™å‘½ä»¤å¤„ç†æ•…éšœå’Œæ”¶é›†ç³»ç»Ÿä¿¡æ¯çš„ 7 ç§ç”¨æ³•</a><br />
<a href="http://jaseywang.me/2012/07/27/dmesg-%E4%BB%A5-human-readable-%E7%9A%84%E6%96%B9%E5%BC%8F%E6%98%BE%E7%A4%BA%E6%97%B6%E9%97%B4/">dmesg ä»¥ human readable çš„æ–¹å¼æ˜¾ç¤ºæ—¶é—´</a><br />
<a href="https://linux.cn/article-4835-1.html">CentOS ä¸Šé…ç½® rsyslog å®¢æˆ·ç«¯ç”¨ä»¥è¿œç¨‹è®°å½•æ—¥å¿—</a></p>
:ET