I"§<p>Masterless æ¶æ„ï¼ˆæ—  Master çš„æ¶æ„ï¼‰</p>

<h1 id="å•ç‹¬çš„-minion">å•ç‹¬çš„ Minion</h1>

<p>ç”±äº Salt minoin åŒ…å«å¦‚æ­¤å¤§é‡çš„åŠŸèƒ½ï¼Œç‹¬ç«‹è¿è¡Œ minion ä¹Ÿä¼šå¾ˆæœ‰ç”¨ã€‚<br />
ä¸€ä¸ªç‹¬ç«‹çš„ minion å¯ä»¥åšè®¸å¤šäº‹æƒ…ï¼š</p>

<ul>
  <li>åœ¨ä¸€ä¸ªç³»ç»Ÿä¸Šä½¿ç”¨ salt-call å‘½ä»¤ï¼Œä¸éœ€è¦è¿æ¥åˆ° master</li>
  <li>æ—  Master çš„çŠ¶æ€ï¼Œè¿è¡ŒçŠ¶æ€ï¼Œæ–‡ä»¶å®Œå…¨æ¥è‡ªå·± minion æœ¬åœ°</li>
</ul>

<p>æ³¨æ„ï¼š
å½“è¿è¡Œ Salt åœ¨ masterless æ¨¡å¼æ—¶ï¼Œä¸è¦è¿è¡Œ salt-minion è¿›ç¨‹ã€‚</p>

<h2 id="minion-é…ç½®">Minion é…ç½®</h2>

<h2 id="masterless-minion-é…ç½®æ­¥éª¤">Masterless Minion é…ç½®æ­¥éª¤</h2>

<h3 id="1-å…³é—­-salt-minion-è¿›ç¨‹">1. å…³é—­ Salt Minion è¿›ç¨‹</h3>

<blockquote>

  <p>systemctl stop salt-minion</p>
</blockquote>

<h3 id="2-ä¿®æ”¹-salt-minion-é…ç½®æ–‡ä»¶">2. ä¿®æ”¹ Salt Minion é…ç½®æ–‡ä»¶</h3>

<p>salt-call å‘½ä»¤ä¼šä½¿ç”¨ minion çš„é…ç½®æ–‡ä»¶</p>

<p>ä¿®æ”¹ /etc/salt/minion ç›¸å…³å‚æ•°å¦‚ä¸‹ï¼š</p>

<blockquote>

  <p>file_client: local</p>
</blockquote>

<p>æ ¹æ®å®é™…æƒ…å†µä¿®æ”¹ file_rootsã€pillar_roots å‚æ•°</p>

<h3 id="3-ç¼–å†™-sls">3. ç¼–å†™ SLS</h3>

<h3 id="4-æ‰§è¡Œ-salt-call">4. æ‰§è¡Œ salt-call</h3>

<blockquote>

  <p>salt-call â€“local state.highstate
æˆ–<br />
salt-call state.apply â€“local</p>
</blockquote>

<h1 id="ref">Ref</h1>
<p><a href="https://docs.saltstack.com/en/latest/topics/tutorials/standalone_minion.html">STANDALONE MINION</a></p>
:ET