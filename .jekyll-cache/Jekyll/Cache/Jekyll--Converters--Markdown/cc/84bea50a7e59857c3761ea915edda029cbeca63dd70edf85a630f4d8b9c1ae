I"Ï<h1 id="å¼•è¨€">å¼•è¨€</h1>

<p>ä¹‹å‰è¯´è¿‡ Murder å®‰è£…æ–¹å¼ï¼Œæåˆ°æ‰“åŒ…æˆ rpm å¹¶æ”¾åˆ° yum çš„æ–¹å¼ã€‚æ‰€ä»¥ä¸‹é¢æ¥è¯´è¯´è¿™ç§æ–¹æ³•ã€‚</p>

<h1 id="æ„å»º-rpm-åŒ…">æ„å»º rpm åŒ…</h1>

<p>æ„å»º rpm åŒ…ä¸€èˆ¬æœ‰ 2 ç§æ–¹æ³•ï¼š</p>

<ol>
  <li>ä½¿ç”¨ rpmbuild æŒ‡å®š spec æ–‡ä»¶æ„å»º RPM åŒ…</li>
  <li>ä½¿ç”¨å‘½ä»¤è¡Œæ‰“åŒ…å·¥å…· FPM</li>
</ol>

<p>æˆ‘å¤§æ¦‚çœ‹äº†ä¸‹ç¬¬ä¸€ç§æ–¹æ³•ï¼Œå¤ªå¤æ‚äº†ï¼ŒMurder å®é™…ä¸Šå°±ä¸€äº› py æ–‡ä»¶ï¼Œ
æˆ‘åªæ˜¯æƒ³æŠŠè¿™äº› py æ–‡ä»¶æ‰“åŒ…æˆ rpmï¼Œæ‰€ä»¥é€‰æ‹©ä½¿ç”¨ FPM æ¥æ‰“åŒ…ã€‚</p>

<p>æˆ‘æƒ³è®¾ç½® Murder çš„ rpm å®‰è£…å¥½åçš„ç›®å½•ä¸º<code class="highlighter-rouge">/usr/local/murder</code>ï¼Œäºæ˜¯é¦–å…ˆå°† Murder ç›¸å…³ py æ–‡ä»¶æ”¾åˆ°è¿™ä¸ªç›®å½•ä¸‹ã€‚<br />
ç„¶åå¼€å§‹æ‰“åŒ…ï¼Œå‘½ä»¤å¦‚ä¸‹ï¼š</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>fpm <span class="nt">-s</span> <span class="nb">dir</span> <span class="nt">-t</span> rpm <span class="nt">-n</span> murder <span class="nt">-v</span> 0.1.3 /usr/local/murder/
</code></pre></div></div>

<p>å…·ä½“å‘½ä»¤é€‰é¡¹è¯· manã€‚</p>

<p>ç”Ÿæˆ rpm åŒ…åï¼Œå°±å¯ä»¥æ”¾åœ¨å…¬å¸å†…éƒ¨çš„ yum æºä¸Šã€‚</p>

<h1 id="é‡åˆ°çš„é—®é¢˜">é‡åˆ°çš„é—®é¢˜</h1>

<p>éœ€è¦<code class="highlighter-rouge">gem install fpm</code>ï¼Œå®‰è£…æŠ¥é”™å¦‚ä¸‹ï¼š</p>

<pre>

ERROR:  Could not find a valid gem 'fpm' (&gt;= 0), here is why:
          Unable to download data from https://rubygems.org/ - Errno::ECONNRESET: Connection reset by peer - SSL_connect (https://rubygems.org/latest_specs.4.8.gz)

</pre>

<p>å›½å†…ç½‘ç»œåŸå› è¿æ¥ä¸åˆ°å›½å¤–çš„ gem æºï¼Œè§£å†³æ–¹æ³•æ˜¯ä½¿ç”¨æ·˜å®çš„ gem æºï¼š</p>

<pre>

gem sources -l
gem sources --remove https://rubygems.org/
gem sources -a https://ruby.taobao.org/
gem sources -l

</pre>

<h1 id="ref">Ref</h1>
<p>ã€Šç½‘ç«™è¿ç»´æŠ€æœ¯ä¸å®è·µã€‹7.4 æ­å»ºç§æœ‰è½¯ä»¶ä»“åº“<br />
<a href="http://blog.csdn.net/willas/article/details/10329225">ç”¨ fpm ä¾¿æ·åœ°æ‰“ RPM åŒ…</a><br />
<a href="https://github.com/jordansissel/fpm">GitHub FPM</a><br />
<a href="https://mritd.me/2016/09/13/%E5%9F%BA%E4%BA%8E%E5%AE%98%E6%96%B9-rpm-%E5%BF%AB%E9%80%9F%E5%88%9B%E5%BB%BA%E8%87%AA%E5%AE%9A%E4%B9%89-rpm/">åŸºäºå®˜æ–¹ rpm å¿«é€Ÿåˆ›å»ºè‡ªå®šä¹‰ rpm</a></p>

:ET